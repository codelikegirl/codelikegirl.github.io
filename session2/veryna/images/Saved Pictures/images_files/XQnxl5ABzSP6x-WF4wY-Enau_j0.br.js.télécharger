var LGPopDomains;(function(n){function pi(n,i,r,u,s,h,y,p,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt){var bt,kt;(ut===void 0&&(ut=!1),ft===void 0&&(ft=!1),et===void 0&&(et=!0),ot===void 0&&(ot=!0),st===void 0&&(st=!1),ht===void 0&&(ht=!1),ct===void 0&&(ct=!1),vt===void 0&&(vt=!1),yt===void 0&&(yt=!1),typeof Element.prototype.getBoundingClientRect=="function")&&(w=n.split("|"),l=r.split("|"),f=p.split("|"),e=rt.split("|"),c=u,pt=y,a=s,vi=ut,v=!a&&ft,b=et,o=ot,k=st,d=ht,yi=ct,g=i,nt=lt.split("|"),tt=at.split("|"),dt=vt,it=yt,bt=_ge("b_results"),wt=bt&&bt.getBoundingClientRect?bt.getBoundingClientRect().top:156,wi(),kt=bi(w,h),LGUtility.setCallback(t,ut?ki.bind(this,kt):di.bind(this,kt)))}function wi(){var n={name:"Search",checkToAdd:function(){return!!_ge("uaseabox")},callback:function(){_ge("uaseabox").focus()}};u.push(n);f.push("Search");e.push("b_lgpd_srch");f.push("Images");e.push("b_lgpd_img");f.push("Videos");e.push("b_lgpd_vid")}function bi(n,i){var et,r,h,p,c,g,l;try{var a=[],o=[],w=[],it=_d.querySelectorAll("#b_results li"),ut=-1,ft=-1,y=[],k=[],ot=[];for(r=0;r<u.length;r++)u[r].checkToAdd()&&(et={ad:null,algo:null,algoNum:-1,domain:u[r].name,faviconHostname:u[r].name,domainName:u[r].name,specialCase:!0,callback:u[r].callback},a.push(et),o.push(u[r].name));for(v&&!b&&gt(n,i,o,w,y),r=0;r<it.length;r++){var e=it[r],f="",s="";if(Lib.CssClass.contains(e,"b_ans")||Lib.CssClass.contains(e,"b_ad")){for(h=0;h<nt.length;h++)if(e.querySelector(nt[h])){f=tt[h];s=f;break}f!=""&&rt(tt,f,s,i,o,ot,k,null,e,!0,r,!0)}else!dt&&Lib.CssClass.contains(e,"b_algo")&&(p=e.querySelector(".b_attribution cite"),c="",p.innerText.indexOf("https://")>=0?(g=sj_ce("a"),g.href=p.innerText,c=g.hostname):c=p.innerText,d?(l=ti(c),f=l&&l.length>=4?l[2]:"",s=ci(l)):(f=ii(c),s=f),rt(n,f,s,i,o,w,k,null,e,!0,r))}return v&&b&&gt(n,i,o,w,y),ni(k,ft,ut,a),v&&!!y&&(Log.Log("LeftGutterModule",t,"AddBopTA",!1),ni(y,ft,ut,a)),a}catch(st){return Log.Log("LeftGutterModule",t,"GetDataErr",!1,"Error",st),null}}function rt(n,t,i,r,u,f,e,o,s,h,c,a){var y,v,p,b,w;h===void 0&&(h=!1);c===void 0&&(c=-1);a===void 0&&(a=!1);y=h?s:o;v=n.indexOf(t);(a||v>=0)&&f.indexOf(v)==-1&&y&&y.getBoundingClientRect&&u.indexOf(l[v])==-1&&(p=y.getBoundingClientRect(),b=p&&p.top>=0&&p.bottom<=_w.innerHeight,r&&b||(w=void 0,w=h?{ad:null,algo:s,algoNum:c,domain:t,faviconHostname:i,domainName:a?t:l[v],specialCase:!1,callback:null}:{ad:o,algo:null,algoNum:c,domain:t,faviconHostname:i,domainName:l[v],specialCase:!0,callback:function(){ei(o)}},e.push(w),u.push(w.domainName)),f.push(v))}function gt(n,t,i,r,u){var a=_d.querySelector(".b_adBottom"),e,h,l,f,o,c,s;if(a&&(e=a.querySelectorAll("li"),!!e&&!!e[0]))for(h=0;h<e.length;h++)(l=e[h],f=l.querySelector(".b_attribution cite"),!f||!f.textContent||f.textContent.split("/").length<=2)||(o=void 0,c=void 0,d?(s=ti(f.textContent.split("/")[2]),o=s&&s.length>=4?s[2]:"",c=ci(s)):(o=ii(f.textContent.split("/")[2]),c=o),rt(n,o,c,t,i,r,u,l,null))}function ni(n,t,i,r){for(var e,u,f=0;f<n.length;f++){if(e=n[f],u=e.domain,u==et&&t>-1)r.splice(t,1),t=-1;else if(u==ot&&i>-1)continue;r.push(e);u==et?i=r.length-1:u==ot&&(t=r.length-1)}}function ti(n){return kt.lastIndex=0,kt.exec(n)}function ii(n){return n.indexOf("www.")==0?n.substring(4):w.indexOf(n)<0&&n.indexOf(".")>=0?n.substring(n.indexOf(".")+1):n}function ri(){var n,t,i;if(!!_d.querySelector(".pa_carousel"))return!0;if(n=_ge("b_results"),n)for(t=0;t<n.children.length;t++){if(i=n.children[t],Lib.CssClass.contains(i,"b_algo"))break;if(Lib.CssClass.contains(i,"b_ad"))return!0}return!1}function p(){var n=_ge(t+"Container");n&&n.parentElement&&n.parentElement.removeChild(n)}function ki(n){var w=ri()||!n||n.length==0||!hi()||!LGUtility.isRenderFeature(t),b,f,u,e,l,a,v,d,r,y;if(w||(b=_ge(t+"CtaBtn"),f=LGUtility.getInstVals(b),LGUtility.instLogRender(t,s,f.appNS,f.kValue)),g||w)return p(),sj_evt.fire(h,t,!1),!1;for(u=[],r=0;r<n.length;r++)e={imgUrl:null,desc:null},l=sj_ce("span"),l.innerText=n[r].domainName,e.desc=l,u[r]=e;for(a=lt+yt*n.length+vt+at,v=!1,it?v=!!LGWidget.initNavWidget(t,c,u,!0,a,!0):LGWidget.initNavWidget(t,c,u,!1),i=_ge(t+"Container"),d=function(i){var r=_ge(t+"_lgw_link"+i),u=_ge(t+"_lgw_fav"+i);u&&si(n[i].domain,n[i].faviconHostname,u);o&&n[i].algo&&n[i].algo.innerText&&n[i].algo.innerText!=""&&r.setAttribute("data-url",n[i].algo.innerText);o&&n[i].ad&&n[i].ad.textContent&&n[i].ad.textContent!=""&&r.setAttribute("data-url",n[i].ad.textContent);k?fi(r,n[i]):sj_be(r,"click",function(){ui(n[i])})},r=0;r<n.length&&r<6;r++)d(r);if(it){if(!v||!i)return p(),!1}else if(y=LGUtility.getTopForPageWid(a),y&&i)i.style.top=y+"px";else return p(),!1;return!0}function di(n){var l=ri()||!n||n.length==0||!hi()||!LGUtility.isRenderFeature(t),a,f,r,e,v,u,y;if(l||(a=_ge(t+"CtaBtn"),f=LGUtility.getInstVals(a),LGUtility.instLogRender(t,s,f.appNS,f.kValue)),g||l)return p(),sj_evt.fire(h,t,!1),!1;for(r=sj_ce("div",null,"b_lgpd_cont"),e=sj_ce("div",null,"b_lgpd_title"),e.innerText=c,r.appendChild(e),v=function(t){var i=sj_ce("div",null,"b_lgpd_site"),u=sj_ce("div",null,"b_lgpd_fav"),f=sj_ce("div",null,"b_lgpd_name");f.innerText=n[t].domainName;o&&n[t].algo&&n[t].algo.innerText&&n[t].algo.innerText!=""&&i.setAttribute("data-url",n[t].algo.innerText);o&&n[t].ad&&n[t].ad.innerText&&n[t].ad.innerText!=""&&i.setAttribute("data-url",n[t].ad.innerText);i.appendChild(u);i.appendChild(f);si(n[t].domain,n[t].faviconHostname,u);k?fi(i,n[t]):sj_be(i,"click",function(){ui(n[t])});sj_be(i,"mouseenter",rr);sj_be(i,"mouseleave",ur);r.appendChild(i)},u=0;u<n.length;u++)v(u);return sj_be(r,"mouseenter",fr),r&&i&&st&&ct?(i.appendChild(r),st.insertBefore(i,ct),y=LGUtility.getTopForPageWid(lt+yt*n.length+vt+at),i.style.top=y+"px",sj_evt.fire(h,t,!0),!0):(sj_evt.fire(h,t,!1),!1)}function gi(n){if(!r){r=sj_ce("div",ai,"b_hide");var u=sj_ce("div",null,"b_lgpd_gt"),e=sj_ce("div",null,"b_lgpd_gti"),f=sj_ce("span");f.innerText=pt;u.appendChild(e);u.appendChild(f);r.appendChild(u);sj_be(r,"click",function(){si_ct(_ge("PopDomainsInstLink"));Log.Log("LeftGutterModule",t,"GoTopClick",!1);_w.scrollTo({top:0,behavior:"smooth"});nr()});i.appendChild(r)}tr(n)}function nr(){Lib.CssClass.add(r,"b_hide")}function tr(n){if(i&&i.getBoundingClientRect&&n&&n.getBoundingClientRect){var u=i.getBoundingClientRect(),t=n.getBoundingClientRect();r.style.top=(t.y-u.y+t.height/2-18).toString()+"px";Lib.CssClass.remove(r,"b_hide")}}function ui(n){var u=_ge(t+"CtaBtn"),i=LGUtility.getInstVals(u),r;if(LGUtility.instLogClick(t,s,i.appNS,i.kValue),Log.Log("LeftGutterModule",t+n.ad?"BOPAd":"","PillClick",!1,"domain",n.domain,"position",n.algoNum.toString()),n.specialCase){n.callback();return}a?(si_ct(n.algo),n.algo.click()):(r=oi(n.algo),ei(r))}function fi(n,t){var i=ut(function(){ir(t)},bt);sj_be(n,"mouseenter",function(){ft.reset();i.trigger()});sj_be(n,"mouseleave",function(){i.reset();ft.trigger()})}function ir(n){var r=_ge("b_content"),t,i;(r.style.overflow="hidden",t=_ge("b_results"),t.style.position="relative",t.style.background="white",t.style.transition="top 1s",t.style.top="0px",i=n.algo?oi(n.algo):n.ad,i&&i.getBoundingClientRect)&&(y=y-(i.getBoundingClientRect().top-wt),t.style.top=y+"px",sb_st(function(){Lib.CssClass.add(i,"b_lgpd_flash");sb_st(function(){Lib.CssClass.remove(i,"b_lgpd_flash")},3e3)},1e3))}function ei(n){var t=n&&n.getBoundingClientRect&&n.getBoundingClientRect();!a&&t&&t.y>=_w.innerHeight&&gi(n);n.scrollIntoView({behavior:"smooth",block:n.offsetHeight>_w.innerHeight?"start":"center",inline:"nearest"});Lib.CssClass.add(n,"b_lgpd_flash");sb_st(function(){Lib.CssClass.remove(n,"b_lgpd_flash")},3e3)}function rr(){Lib.CssClass.add(i,"b_lgpd_hov")}function ur(){Lib.CssClass.remove(i,"b_lgpd_hov")}function oi(n){for(var t=n;t;){if(Lib.CssClass.contains(t,"b_algo")||Lib.CssClass.contains(t,"b_ans"))return t;t=t.parentElement}return n}function fr(){var i=_ge(t+"CtaBtn"),n=LGUtility.getInstVals(i);LGUtility.instLogHover(t,s,n.appNS,n.kValue)}function si(n,t,i){var r=f.indexOf(n),u;if(r>=0){Lib.CssClass.add(i,e[r]);return}u="/favicon/hash?domain="+t;sj_ajax(u,{callback:function(n,t){var u,r=(u=t===null||t===void 0?void 0:t.request)===null||u===void 0?void 0:u.response,f,e;n&&t&&r!=""&&(f=r.indexOf("<!--<!"),e=f>-1?r.substring(0,f).trim():r,er(e,i))}})}function er(n,i){var u="/th?id=ODF."+n+"&pid=Api&w=42&h=42&dpr=1.5",r=sj_gx();r.open("HEAD",u,!0);r.onreadystatechange=function(){var n;r.readyState==4&&(r.status==404?(n=sj_ce("div",null,"b_lgpd_nofav"),i.appendChild(n)):(n=sj_ce("img",null,"b_favImg"),n.src=u,n.width=42,n.height=42,i.appendChild(n)))};r.onerror=function(){Log.Log("LeftGutterModule",t,"FaviconFailure",!1,"id",n)};r.send()}function hi(){return ht?parseInt(getComputedStyle(ht)[li])>=160:!1}function ci(n){return n&&n.length>5?n[2]+(n[3]?n[3]:"")+(n[5]?n[5]:""):""}var t="LGPopDomains",s="LeftGutterWidget",et="tripadvisor.com",ot="yelp.com",h="lgRender",c="On this page:",li=_G.RTL?"paddingRight":"paddingLeft",st=_d.querySelector("#b_content main"),ht=_ge("b_content"),ct=_ge("b_results"),i=sj_ce("div","LGPopDomainsContainer",null),ai="b_lgpd_gtcont",lt=32,at=32,vt=30,yt=50,ut,ft;i.setAttribute("data-priority","2");var w=[],l=[],a=!1,pt="Go to top",r,f=[],e=[],vi=!1,u=[],v=!1,b=!0,o=!0,k=!1,y=0,wt,bt=250,d=!1,kt=/^(?:(www|de|fr|in|ca|es|it|ko|ja|ru|zh|vi)\.)?([^:\/\n]+?)(?:(?=(\.(com|co|org|net|biz|gov))|(\.(de|fr|in|ca|es|it|ko|ja|ru|zh|vi|us|be|cz|dk|fi|gr|hu|jo|nl|no|pl|pt|se|sk|ag)$)))/igm,yi=!1,g=!1,nt=[],tt=[],dt=!1,it=!1;n.init=pi;ut=function(n,t){var i=null;return{trigger:function(){var r=function(){i=null;n()};clearTimeout(i);i=sb_st(r,t)},reset:function(){clearTimeout(i)}}};ft=ut(function(){var n=_ge("b_results");n.style.top="0px";y=0},bt);sj_evt.fire("LGPopDomInit")})(LGPopDomains||(LGPopDomains={}))